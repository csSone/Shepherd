# Shepherd Web 前端运行时配置
# 这些是应用运行时需要配置的内容

# 应用基本信息
app:
  name: "Shepherd"
  version: "1.0.0"
  description: "分布式 AI 模型管理系统"
  # 应用环境（development, production）
  environment: "production"

# 服务器配置
server:
  # 应用监听的主机地址
  host: "0.0.0.0"
  # 应用端口（开发模式）
  port: 9001
  # 是否启用 HTTPS
  https: false
  # SSL 证书路径（启用 HTTPS 时需要）
  sslCert: ""
  sslKey: ""
  # 是否启用 gzip 压缩
  gzip: true
  # CORS 配置
  cors:
    # 是否启用 CORS
    enabled: true
    # 允许的源（* 表示所有源）
    origin: "*"
    # 允许的 HTTP 方法
    methods: "GET, POST, PUT, DELETE, PATCH, OPTIONS"
    # 允许的请求头
    headers: "Content-Type, Authorization, X-Requested-With"
    # 是否允许发送凭据（cookies）
    credentials: false

# 后端 API 配置
api:
  # 后端服务器地址
  baseUrl: "http://localhost:9190"
  # API 基础路径
  basePath: "/api"
  # API 超时时间（毫秒）
  timeout: 30000
  # 连接超时（毫秒）
  connectTimeout: 10000
  # 自动重试次数
  retryCount: 3
  # 重试延迟（毫秒）
  retryDelay: 1000
  # 重试状态码
  retryStatusCodes: [408, 429, 500, 502, 503, 504]
  # 请求超时后是否显示重试选项
  showRetryDialog: true
  # 是否启用请求缓存
  cacheEnabled: true

# OpenAI API 配置
openai:
  # OpenAI 兼容端点
  endpoint: "/v1"
  # 默认模型（用于聊天）
  defaultModel: ""
  # 流式响应超时（毫秒）
  streamTimeout: 120000
  # 最大 token 数
  maxTokens: 4096
  # 温度范围
  temperature: 0.7
  # top_p 采样
  topP: 0.9
  # 频率惩罚
  frequencyPenalty: 0
  # 存在惩罚
  presencePenalty: 0

# SSE 实时事件配置
sse:
  # SSE 端点
  endpoint: "/api/events"
  # 自动重连
  reconnect: true
  # 重连延迟（毫秒）
  reconnectDelay: 2000
  # 最大重连次数（-1 表示无限）
  maxReconnectAttempts: -1
  # 连接超时（毫秒）
  connectionTimeout: 60000
  # 心跳间隔（毫秒）
  heartbeatInterval: 30000
  # 是否启用心跳
  heartbeatEnabled: true

# WebSocket 配置
websocket:
  # WebSocket 端点
  endpoint: "/api/ws"
  # 是否启用 WebSocket
  enabled: false
  # 重连间隔（毫秒）
  reconnectInterval: 5000
  # 心跳间隔（毫秒）
  heartbeatInterval: 30000

# 功能开关
features:
  # 是否启用模型管理
  models: true
  # 是否启用下载管理
  downloads: true
  # 是否启用集群管理
  cluster: true
  # 是否启用日志查看
  logs: true
  # 是否启用聊天功能
  chat: true
  # 是否启用设置页面
  settings: true
  # 是否启用仪表盘
  dashboard: true

# UI 配置
ui:
  # 主题（light, dark, auto）
  theme: "auto"
  # 默认语言
  language: "zh-CN"
  # 支持的语言列表
  supportedLanguages:
    - "zh-CN"
    - "en-US"
  # 每页显示数量
  pageSize: 20
  # 页面大小选项
  pageSizeOptions: [10, 20, 50, 100]
  # 虚拟滚动阈值（超过此数量启用虚拟滚动）
  virtualScrollThreshold: 100
  # 是否启用动画
  animations: true
  # 是否启用骨架屏
  skeleton: true
  # 是否启用面包屑导航
  breadcrumb: true
  # 侧边栏默认展开状态（true: 展开, false: 折叠）
  sidebarExpanded: true
  # 是否启用紧凑模式
  compactMode: false

# 布局配置
layout:
  # 顶部栏高度（像素）
  headerHeight: 60
  # 侧边栏宽度（像素）
  sidebarWidth: 260
  # 侧边栏折叠宽度（像素）
  sidebarCollapsedWidth: 70
  # 内容区域最大宽度（像素，0 表示不限制）
  contentMaxWidth: 1400
  # 是否启用固定头部
  stickyHeader: true
  # 是否启用固定侧边栏
  stickySidebar: true

# 日志配置
logging:
  # 日志级别（debug, info, warn, error）
  level: "info"
  # 是否启用控制台日志
  console: true
  # 是否发送日志到服务器
  remote: false
  # 远程日志端点
  remoteEndpoint: "/api/logs"
  # 日志批量发送大小
  batchSize: 50
  # 日志发送间隔（毫秒）
  flushInterval: 5000

# 错误处理配置
errors:
  # 是否显示详细错误信息
  showDetails: true
  # 是否启用错误上报
  reporting: false
  # 错误上报端点
  reportingEndpoint: "/api/errors"
  # 用户反馈邮箱
  supportEmail: ""
  # 是否启用错误对话框
  showDialog: true

# 缓存配置
cache:
  # 模型列表缓存时间（毫秒）
  modelsTTL: 60000
  # 客户端列表缓存时间（毫秒）
  clientsTTL: 30000
  # 下载列表缓存时间（毫秒）
  downloadsTTL: 5000
  # 配置缓存时间（毫秒）
  configTTL: 300000
  # 是否启用持久化缓存
  persistent: true
  # 缓存前缀
  prefix: "shepherd_"
  # 是否启用缓存版本控制
  versioning: true

# 性能配置
performance:
  # 是否启用性能监控
  monitoring: false
  # 性能数据采样率（0-1）
  sampleRate: 0.1
  # 是否启用预加载
  preloading: true
  # 预加载的资源
  preloadResources:
    - "/api/config"
    - "/api/models"
  # 懒加载图片阈值（字节）
  lazyImageThreshold: 1024
  # 是否启用虚拟滚动
  virtualScroll: true
  # 是否启用代码分割
  codeSplitting: true

# 安全配置
security:
  # 是否启用内容安全策略
  cspEnabled: false
  # 是否启用 XSS 保护
  xssProtection: true
  # 是否启用点击劫持保护
  clickjackingProtection: true
  # 是否启用严格传输安全
  strictTransportSecurity: false
  # API 密钥（如果后端启用）
  apiKey: ""
  # 是否启用请求签名
  requestSigning: false

# 通知配置
notifications:
  # 是否启用浏览器通知
  enabled: true
  # 请求通知权限
  requestPermission: true
  # 默认通知类型
  defaultTypes: ["model", "download", "system", "error"]
  # 通知显示时长（毫秒）
  duration: 5000
  # 是否启用声音
  sound: false
  # 是否启用桌面通知
  desktop: true

# 开发者工具配置
devtools:
  # 是否启用调试模式
  debug: false
  # 是否显示性能指标
  showPerformance: false
  # 是否显示网络请求日志
  logNetworkRequests: false
  # 是否启用 React DevTools
  reactDevTools: true
  # 是否启用 Redux DevTools
  reduxDevTools: false

# 文件上传配置
upload:
  # 最大文件大小（字节，0 表示不限制）
  maxFileSize: 524288000  # 500MB
  # 允许的文件类型
  allowedTypes:
    - ".gguf"
    - ".bin"
    - ".json"
    - ".txt"
    - ".md"
  # 上传超时（毫秒）
  timeout: 300000
  # 是否启用分片上传
  chunked: true
  # 分片大小（字节）
  chunkSize: 5242880  # 5MB

# 导入导出配置
importExport:
  # 是否支持导出数据
  exportEnabled: true
  # 导出格式（json, csv, yaml）
  exportFormats: ["json", "csv"]
  # 最大导出行数
  maxExportRows: 10000
  # 是否支持导入数据
  importEnabled: true
  # 导入格式
  importFormats: ["json", "csv"]

