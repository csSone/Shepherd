# Shepherd Server 配置文件
# Standalone 模式：单机模式，所有功能本地执行

server:
    web_port: 9190
    anthropic_port: 9170
    ollama_port: 11434
    lmstudio_port: 1234
    host: 0.0.0.0
    read_timeout: 60
    write_timeout: 60

model:
    paths:
        - ./models
        - ~/.cache/huggingface/hub
    path_configs: []
    auto_scan: true
    scan_interval: 0

llamacpp:
    paths: []

download:
    directory: ./downloads
    max_concurrent: 4
    chunk_size: 1048576
    retry_count: 3
    timeout: 300

security:
    api_key_enabled: false
    api_key: ""
    cors_enabled: true
    allowed_origins:
        - '*'

compatibility:
    ollama:
        enabled: false
        port: 11434
    lmstudio:
        enabled: false
        port: 1234

log:
    level: info
    format: json
    output: both
    directory: ./logs
    max_size: 100
    max_backups: 3
    max_age: 7
    compress: true

storage:
    type: sqlite
    sqlite:
        path: ./data/shepherd.db
        journal_mode: WAL
        synchronous: NORMAL
        enable_wal: true
    postgresql: null

mode: standalone

master:
    enabled: false
    client_config_dir: ""
    auto_scan: true
    scan_interval: 300
    scan_networks:
        - 192.168.1.0/24
        - 10.0.0.0/24
    scheduling_policy: least-load
    heartbeat_timeout: 60
    task_queue:
        enabled: false
        max_buffer_size: 0
        flush_interval: 0

client:
    enabled: false
    master_address: ""
    register_token: ""
    name: client-1
    tags: []
    description: ""
    heartbeat_interval: 30
    reconnect_delay: 5
    max_reconnect_attempts: -1
    register_retry: 0
    heartbeat_interval: 0
    heartbeat_timeout: 0
